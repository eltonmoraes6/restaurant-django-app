{% extends "base.html" %}
{% block hero %}{% endblock hero %}
{% block class %}class="sub_page"{% endblock class %}
{% block table_status %}active{% endblock table_status %}
{% block main %}

<section class="book_section layout_padding">
  <div class="container">
    <div class="heading_container">
      <h2>
        Reservar Uma Mesa
      </h2>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form_container">

          {% if messages %}
          <div class="alert alert-info">
            {% for message in messages %}
            <p>{{ message }}</p>
            {% endfor %}
          </div>
          {% endif %}

          <form action="{% url 'Book_Table' %}" method='POST'>{% csrf_token %}
            <div>
              <input type="text" class="form-control" name="user_name" required placeholder="Seu Nome" />
            </div>
            <div>
              <input type="text" class="form-control" name="phone_number" required placeholder="Telefone" />
            </div>
            <div>
              <input type="email" class="form-control" name="user_email" placeholder="Seu Email" />
            </div>
            <div>
              <select class="form-control nice-select wide" required name="total_person">
                <option value="" disabled selected>
                  Quantas pessoas?
                </option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div>
              <input type="date" required name="booking_data" class="form-control">
            </div>
            <div class="btn_box">
              <button>
                Reservar Agora
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="col-md-6">
        <div class="map_container">
          <div id="googleMap" style="height: 400px; width: 100%;"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&callback=initMap" async
  defer></script>

<script>
  function initMap() {
    var restaurantLocation = { lat: 26.8467, lng: 80.9462 };

    var map = new google.maps.Map(document.getElementById('googleMap'), {
      zoom: 14,
      center: restaurantLocation
    });

    var marker = new google.maps.Marker({
      position: restaurantLocation,
      map: map,
      title: 'Nome do Seu Restaurante'
    });
  }
</script>

{% endblock main %}